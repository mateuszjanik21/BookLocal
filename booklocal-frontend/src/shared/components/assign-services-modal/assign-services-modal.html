<div class="modal modal-open">
  <div class="modal-box">
    @if (employee) {
      <h3 class="font-bold text-lg">Zarządzaj usługami dla: {{ employee.firstName }} {{ employee.lastName }}</h3>

      <form [formGroup]="servicesForm" (ngSubmit)="onSubmit()">
        <div class="form-control mt-4" formArrayName="services">
        
          @for (control of servicesControls; track i; let i = $index) {
            <label class="label cursor-pointer">
              <span class="label-text">{{ allServices[i].name }}</span> 
              <input type="checkbox" class="checkbox checkbox-primary" [formControlName]="i" />
            </label>
          }

        </div>
        <div class="modal-action">
          <button type="submit" class="btn btn-primary">Zapisz</button>
          <button type="button" class="btn" (click)="closed.emit()">Anuluj</button>
        </div>
      </form>
    }
  </div>
</div>